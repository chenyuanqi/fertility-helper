<!--pages/help/help.wxml - 使用说明页面模板-->
<view class="help-page">
  <!-- 页面头部 -->
  <view class="help-header">
    <view class="header-content">
      <view class="header-title">使用说明</view>
      <view class="header-subtitle">详细了解备孕助手的各项功能</view>
    </view>
    
    <!-- 搜索框 -->
    <view class="search-container">
      <view class="search-box">
        <view class="search-icon">🔍</view>
        <input 
          class="search-input" 
          placeholder="搜索功能说明..." 
          value="{{searchKeyword}}"
          bindinput="onSearchInput"
        />
        <view wx:if="{{searchKeyword}}" class="search-clear" bindtap="clearSearch">✕</view>
      </view>
    </view>
    
    <!-- 快捷操作 -->
    <view class="quick-actions">
      <button class="action-btn" bindtap="expandAll">展开全部</button>
      <button class="action-btn" bindtap="collapseAll">收起全部</button>
    </view>
  </view>

  <!-- 帮助内容 -->
  <view class="help-content">
    <view 
      wx:for="{{filteredSections}}" 
      wx:key="id" 
      class="help-section {{expandedSections[item.id] ? 'expanded' : ''}}"
    >
      <!-- 章节标题 -->
      <view class="section-header" bindtap="toggleSection" data-id="{{item.id}}">
        <view class="section-icon">{{item.icon}}</view>
        <view class="section-title">{{item.title}}</view>
        <view class="section-arrow {{expandedSections[item.id] ? 'rotated' : ''}}">▼</view>
      </view>
      
      <!-- 章节内容 -->
      <view class="section-content" wx:if="{{expandedSections[item.id]}}">
        <view 
          wx:for="{{item.items}}" 
          wx:for-item="helpItem" 
          wx:key="title"
          class="help-item"
        >
          <view class="item-title">{{helpItem.title}}</view>
          <view class="item-content">{{helpItem.content}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部操作 -->
  <view class="help-footer">
    <view class="footer-tips">
      <view class="tips-title">💡 小贴士</view>
      <view class="tips-content">
        如果您在使用过程中遇到问题，可以通过设置页面的"联系我们"功能反馈。
        我们会持续优化产品，为您提供更好的使用体验。
      </view>
    </view>
    
    <view class="footer-actions">
      <button class="footer-btn secondary" bindtap="goBack">返回设置</button>
      <button class="footer-btn primary" open-type="share">分享给朋友</button>
    </view>
  </view>

  <!-- 无搜索结果提示 -->
  <view 
    wx:if="{{searchKeyword && filteredSections.length === 0}}"
    class="no-results"
  >
    <view class="no-results-icon">🔍</view>
    <view class="no-results-title">未找到相关内容</view>
    <view class="no-results-text">
      没有找到包含"{{searchKeyword}}"的内容，请尝试其他关键词。
    </view>
    <button class="no-results-btn" bindtap="clearSearch">清除搜索</button>
  </view>
</view>