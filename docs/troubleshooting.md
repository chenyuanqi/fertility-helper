# 备小孕小程序 - 故障排除指南

## 📋 目录

- [快速诊断](#快速诊断)
- [小程序启动问题](#小程序启动问题)
- [数据记录问题](#数据记录问题)
- [图表显示问题](#图表显示问题)
- [预测功能问题](#预测功能问题)
- [数据同步问题](#数据同步问题)
- [性能与稳定性](#性能与稳定性)
- [数据安全问题](#数据安全问题)
- [兼容性问题](#兼容性问题)
- [恢复和备份问题](#恢复和备份问题)

---

## 快速诊断

### 🔍 常见问题快速检查表

在深入排查前，请先进行这些基础检查：

#### 环境检查
```
✅ 微信版本是否为最新版本？
✅ 手机系统是否为最新版本？
✅ 网络连接是否正常？
✅ 手机存储空间是否充足？
✅ 最近是否有系统或微信更新？
```

#### 应用状态检查
```
✅ 小程序是否能正常打开？
✅ 各个页面是否能正常切换？
✅ 最近一次记录数据是否成功？
✅ 有没有看到明显的错误提示？
✅ 问题是偶发还是持续性的？
```

### 🛠️ 通用解决步骤

**第一级：轻度重启**
1. 关闭小程序
2. 等待10秒后重新打开
3. 测试功能是否恢复正常

**第二级：应用重置**
1. 完全关闭微信应用
2. 等待30秒后重新打开微信
3. 重新进入备小孕小程序

**第三级：系统重启**
1. 重启手机
2. 确保网络连接正常
3. 重新测试小程序功能

**第四级：数据检查**
1. 检查数据是否丢失
2. 如有备份，准备恢复数据
3. 联系技术支持

---

## 小程序启动问题

### 问题1：小程序无法打开

#### 症状表现
- 点击小程序图标无响应
- 显示"加载中"但始终无法进入
- 出现白屏或黑屏
- 提示"网络错误"或"加载失败"

#### 可能原因分析
```
网络问题：
- WiFi或移动网络不稳定
- DNS解析问题
- 网络防火墙限制

微信问题：
- 微信版本过旧
- 微信缓存损坏
- 小程序权限被禁用

系统问题：
- 手机存储空间不足
- 系统版本兼容性问题
- 后台应用过多占用内存
```

#### 解决方案

**方案A：网络诊断**
1. **检查网络连接**：
   ```
   - 尝试访问其他网站或应用
   - 切换WiFi和移动数据测试
   - 重启路由器（如果使用WiFi）
   ```

2. **网络设置重置**：
   ```
   iOS：设置 → 通用 → 还原 → 还原网络设置
   Android：设置 → 网络和互联网 → 重置网络设置
   ```

**方案B：微信排查**
1. **更新微信版本**：
   ```
   - 打开应用商店
   - 搜索微信
   - 点击更新（如果有）
   ```

2. **清理微信缓存**：
   ```
   微信 → 我 → 设置 → 通用 → 存储空间 → 清理
   选择清理缓存（注意：不要清理聊天记录）
   ```

3. **检查小程序权限**：
   ```
   微信 → 发现 → 小程序 → 搜索"备小孕"
   长按小程序图标 → 删除 → 重新添加
   ```

**方案C：系统优化**
1. **释放存储空间**：
   ```
   - 删除不需要的照片和视频
   - 清理应用缓存
   - 卸载不常用的应用
   - 确保至少有1GB可用空间
   ```

2. **关闭后台应用**：
   ```
   iOS：双击Home键，上滑关闭不需要的应用
   Android：使用多任务键关闭后台应用
   ```

### 问题2：小程序启动缓慢

#### 症状表现
- 小程序启动时间超过30秒
- 进入后页面加载很慢
- 切换页面时有明显延迟

#### 优化方案

**性能优化步骤：**
1. **网络优化**：
   ```
   - 使用稳定的WiFi网络
   - 避免在网络高峰期使用
   - 关闭其他占用网络的应用
   ```

2. **设备优化**：
   ```
   - 重启手机释放内存
   - 关闭不必要的后台应用
   - 确保设备不过热
   ```

3. **微信优化**：
   ```
   - 清理微信缓存
   - 关闭微信的自动播放视频
   - 减少微信群聊的图片和视频
   ```

---

## 数据记录问题

### 问题3：体温记录失败

#### 症状表现
- 点击"保存"后没有反应
- 提示"保存失败"
- 体温数据丢失
- 键盘无法正常输入

#### 诊断步骤

**步骤1：检查输入数据**
```
体温值检查：
✅ 是否在35.0-42.0°C范围内？
✅ 小数点位数是否正确（最多1位）？
✅ 是否包含非数字字符？

示例：
正确：36.5, 37.0, 36.8
错误：36.55, abc, 30.0
```

**步骤2：检查操作流程**
```
操作检查：
1. 是否选择了正确的日期？
2. 是否点击了数字键盘的"确定"？
3. 是否最终点击了"保存"按钮？
4. 是否看到了保存成功的提示？
```

#### 解决方案

**方案A：数据格式修正**
1. **重新输入体温**：
   ```
   - 使用标准格式：XX.X
   - 确保在合理范围内
   - 避免使用特殊字符
   ```

2. **时间设置检查**：
   ```
   - 确认日期是否正确
   - 检查时间是否合理
   - 避免选择未来日期
   ```

**方案B：操作流程检查**
1. **完整保存流程**：
   ```
   步骤1：选择体温选项卡
   步骤2：确认日期和时间
   步骤3：点击体温输入框
   步骤4：使用数字键盘输入
   步骤5：点击键盘的"确定"
   步骤6：点击页面的"保存"
   步骤7：等待保存成功提示
   ```

**方案C：技术问题排查**
1. **重启小程序**：
   ```
   - 关闭小程序
   - 等待10秒
   - 重新打开并尝试记录
   ```

2. **数据冲突检查**：
   ```
   - 检查当日是否已有记录
   - 尝试编辑而非新增
   - 确认没有重复操作
   ```

### 问题4：月经记录异常

#### 症状表现
- 经量选择无法保存
- 经期开始/结束标记失效
- 月经数据在图表上不显示
- 周期计算错误

#### 诊断和解决

**问题A：经量选择问题**
```
检查项目：
✅ 是否选择了具体的经量等级？
✅ 选择后是否有视觉反馈（高亮）？
✅ 是否点击了保存按钮？

解决方法：
1. 重新选择经量等级
2. 确认选项有高亮显示
3. 检查描述文字是否更新
4. 点击保存并等待确认
```

**问题B：经期标记问题**
```
常见错误：
❌ 经期第一天忘记勾选"经期开始"
❌ 经期结束前勾选了"经期结束"
❌ 非经期误勾选了经期标记

修正方法：
1. 回到经期第一天重新标记
2. 取消错误的结束标记
3. 在真正结束的当天勾选结束
```

**问题C：周期计算错误**
```
可能原因：
- 经期开始日期标记错误
- 存在多个经期开始标记
- 经期跨月份记录问题

解决步骤：
1. 检查最近3个月的经期开始日期
2. 确保每个周期只有一个开始日期
3. 修正错误的标记
4. 等待系统重新计算
```

### 问题5：同房记录问题

#### 症状表现
- 时间选择器不工作
- 保护措施选项无法选择
- 同房记录在图表上不显示
- 多次记录显示异常

#### 解决方案

**时间选择问题：**
```
问题排查：
1. 时间选择器是否能正常弹出？
2. 选择时间后是否能正常关闭？
3. 选择的时间是否在合理范围内？

解决方法：
- 点击时间显示区域激活选择器
- 确保选择的是当天或之前的时间
- 避免选择未来时间
```

**保护措施选择问题：**
```
检查要点：
✅ 是否明确选择了有/无保护措施？
✅ 选择后是否有视觉反馈？
✅ 理解选项含义是否正确？

选项说明：
有保护措施：使用避孕套、避孕药等
无保护措施：完全无保护的房事
```

---

## 图表显示问题

### 问题6：图表无法加载

#### 症状表现
- 图表区域显示空白
- 提示"暂无数据"但实际有数据
- 图表加载中状态持续不变
- 图表显示错位或变形

#### 诊断步骤

**数据完整性检查：**
```
必要数据：
✅ 至少有7天的记录？
✅ 包含体温数据？
✅ 有月经周期标记？
✅ 数据时间连续性如何？

最低要求：
- 至少1周的体温记录
- 至少1次月经开始标记
- 数据格式正确无误
```

**显示参数检查：**
```
检查项目：
✅ 当前选择的周期是否有数据？
✅ 时间范围是否正确？
✅ 是否在正确的页面？
✅ 网络连接是否正常？
```

#### 解决方案

**方案A：数据补充**
```
如果数据不足：
1. 补充必要的体温记录
2. 确保月经周期标记正确
3. 等待至少7天的连续数据
4. 重新加载图表页面
```

**方案B：显示重置**
```
重置图表显示：
1. 切换到其他页面
2. 等待3秒钟
3. 重新进入图表页面
4. 点击"今"按钮回到当前周期
```

**方案C：缓存清理**
```
清理步骤：
1. 完全关闭小程序
2. 清理微信缓存
3. 重新打开小程序
4. 等待数据重新加载
```

### 问题7：图表数据显示错误

#### 症状表现
- 体温线条位置错误
- 经量背景颜色不对
- 同房标记缺失或位置错误
- 日期轴显示混乱

#### 修复步骤

**体温线条问题：**
```
检查要点：
1. 原始体温数据是否正确？
2. 体温值是否在合理范围？
3. 是否有异常的高低值？

修复方法：
- 检查并修正异常体温值
- 在备注中标明特殊情况
- 删除明显错误的数据
- 重新生成图表
```

**经量显示问题：**
```
常见问题：
- 颜色深浅与实际经量不符
- 经期时间范围不准确
- 跨周期显示异常

解决步骤：
1. 确认经量等级选择正确
2. 检查经期开始/结束标记
3. 修正错误的日期标记
4. 刷新图表显示
```

**同房标记问题：**
```
可能原因：
- 同房记录日期错误
- 时间选择问题
- 数据同步延迟

解决方法：
1. 检查同房记录的日期
2. 确认时间设置正确
3. 重新保存同房记录
4. 等待图表更新
```

---

## 预测功能问题

### 问题8：排卵预测不准确

#### 症状表现
- 预测的排卵日期明显错误
- 置信度一直显示"低"
- 易孕期时间窗口不合理
- 预测日期频繁变化

#### 原因分析

**数据质量问题：**
```
检查项目：
❌ 体温记录不连续（缺失>3天）
❌ 测温时间不固定（差异>2小时）
❌ 周期极不规律（变化>10天）
❌ 无明显双相体温模式
❌ 使用时间过短（<1个周期）
```

**个体差异因素：**
```
可能情况：
- 个人周期确实不规律
- 体温变化不明显
- 存在多囊卵巢等疾病
- 压力或药物影响
- 年龄相关的激素变化
```

#### 改善策略

**数据质量提升：**
```
改善措施：
1. 固定测温时间（±30分钟内）
2. 确保测温方法规范
3. 详细记录特殊情况
4. 保持记录连续性
5. 至少坚持3个周期

具体实施：
- 设置每日测温提醒
- 使用同一支体温计
- 醒来第一时间测量
- 记录睡眠质量和特殊情况
```

**算法适应期：**
```
时间安排：
第1周期：算法学习个人基线
第2周期：识别基本模式
第3周期：提高预测准确性
第4周期+：达到最佳效果

耐心等待：
- 不要因为初期不准确而放弃
- 给算法充分的学习时间
- 持续提供高质量数据
```

### 问题9：置信度始终很低

#### 原因分析和解决

**原因A：数据不足**
```
问题：使用时间短，数据积累不够
解决：
- 继续坚持记录至少2-3个完整周期
- 保持每日体温记录
- 不要频繁间断
```

**原因B：数据质量差**
```
问题：测温不规范，数据不可靠
解决：
- 固定测温时间和方法
- 减少外界干扰因素
- 详细标注特殊情况
```

**原因C：生理因素**
```
问题：个人周期确实不规律
解决：
- 寻找其他排卵信号（如宫颈黏液）
- 考虑使用排卵试纸辅助
- 必要时咨询妇科医生
```

---

## 数据同步问题

### 问题10：页面数据不一致

#### 症状表现
- 不同页面显示的数据不同
- 刚记录的数据不显示
- 修改后的数据没有更新
- 统计数据计算错误

#### 解决方案

**即时同步方法：**
```
快速修复：
1. 下拉刷新当前页面
2. 切换到其他页面再切换回来
3. 重新进入小程序
4. 等待3-5秒让数据同步
```

**彻底同步方法：**
```
完整修复：
1. 关闭小程序
2. 清理微信后台
3. 等待30秒
4. 重新打开小程序
5. 检查所有页面数据
```

**预防措施：**
```
良好习惯：
- 记录后等待保存确认
- 不要同时在多个页面操作
- 避免快速连续操作
- 网络不稳定时谨慎操作
```

### 问题11：数据保存失败

#### 症状表现
- 点击保存后无反应
- 提示"保存失败"
- 数据保存后又消失
- 网络错误提示

#### 排查步骤

**本地存储检查：**
```
检查项目：
✅ 手机存储空间是否充足？
✅ 微信权限是否正常？
✅ 是否有其他应用冲突？
✅ 系统时间是否正确？
```

**数据格式检查：**
```
验证要点：
✅ 输入数据是否符合格式要求？
✅ 日期时间是否合理？
✅ 是否包含特殊字符？
✅ 数据长度是否超限？
```

#### 解决方案

**方案A：环境修复**
```
修复步骤：
1. 释放存储空间（至少500MB）
2. 检查并修正系统时间
3. 重启手机
4. 重新尝试保存
```

**方案B：数据检查**
```
检查要点：
1. 重新输入数据
2. 使用标准格式
3. 避免特殊字符
4. 分次保存不同类型数据
```

---

## 性能与稳定性

### 问题12：小程序卡顿或崩溃

#### 症状表现
- 操作响应缓慢
- 页面切换卡顿
- 突然退出到微信主界面
- 触摸操作无响应

#### 性能优化

**内存优化：**
```
优化措施：
1. 关闭其他不必要的应用
2. 重启手机释放内存
3. 清理微信缓存
4. 避免在设备过热时使用
```

**使用习惯优化：**
```
良好习惯：
- 避免快速连续操作
- 等待页面完全加载再操作
- 不要长时间停留在同一页面
- 定期重启小程序
```

**设备检查：**
```
检查项目：
✅ 设备型号是否过旧？
✅ 系统版本是否太低？
✅ 可用内存是否充足？
✅ 是否存在硬件问题？

最低要求：
- iOS 10.0+ 或 Android 6.0+
- 2GB+ RAM
- 1GB+ 可用存储空间
```

### 问题13：电池消耗异常

#### 问题分析
- 小程序后台持续运行
- 频繁的数据同步
- 提醒功能过度活跃

#### 优化方案

**提醒设置优化：**
```
建议设置：
- 只开启必要的提醒
- 避免过于频繁的提醒
- 合理设置提醒时间
- 定期检查提醒效果
```

**使用模式优化：**
```
节能使用：
- 记录完数据后及时关闭
- 避免长时间浏览
- 不要常驻后台
- 定期清理缓存
```

---

## 数据安全问题

### 问题14：数据丢失或损坏

#### 症状表现
- 之前的记录突然消失
- 数据显示异常或乱码
- 统计信息重置为零
- 历史数据无法访问

#### 紧急处理

**立即行动：**
```
紧急步骤：
1. 停止继续操作
2. 不要尝试修复数据
3. 检查是否有备份文件
4. 记录问题发生的具体情况
```

**损失评估：**
```
评估要点：
- 丢失数据的时间范围
- 哪些类型的数据受影响
- 是否有部分数据仍然完整
- 最近一次备份的时间
```

#### 数据恢复

**备份恢复：**
```
恢复步骤：
1. 找到最近的备份文件
2. 确认备份文件完整性
3. 使用数据导入功能恢复
4. 验证恢复后的数据
```

**部分重建：**
```
如果没有备份：
1. 回忆并重新输入重要数据
2. 重点恢复最近一个周期的数据
3. 尽可能详细记录特殊情况
4. 从重建的数据开始重新积累
```

### 问题15：备份和恢复问题

#### 备份失败

**问题A：导出失败**
```
可能原因：
- 数据量过大
- 存储空间不足
- 系统权限问题
- 网络连接问题

解决方法：
1. 释放存储空间
2. 检查应用权限
3. 尝试小批量导出
4. 使用不同导出方式
```

**问题B：文件损坏**
```
预防措施：
- 使用多种备份方式
- 定期验证备份完整性
- 保存多个版本的备份
- 使用云存储备份
```

#### 恢复失败

**问题诊断：**
```
检查要点：
✅ 备份文件是否完整？
✅ 文件格式是否正确？
✅ 数据版本是否兼容？
✅ 导入操作是否正确？
```

**解决方案：**
```
修复步骤：
1. 验证备份文件完整性
2. 尝试使用文本编辑器查看
3. 使用较旧的备份文件
4. 联系技术支持协助
```

---

## 兼容性问题

### 问题16：设备兼容性问题

#### 老设备支持

**系统要求：**
```
最低要求：
- iOS 9.0+ / Android 5.0+
- 1GB+ RAM
- 微信 7.0+

推荐配置：
- iOS 12.0+ / Android 8.0+
- 3GB+ RAM  
- 微信最新版本
```

**性能调优：**
```
老设备优化：
- 关闭视觉效果
- 减少同时运行的应用
- 定期清理设备存储
- 避免在设备过热时使用
```

#### 微信版本兼容

**版本检查：**
```
检查方法：
微信 → 我 → 设置 → 关于微信
查看版本号是否为最新

更新方法：
应用商店搜索微信 → 更新
```

**兼容性问题：**
```
常见问题：
- 旧版本微信功能限制
- 小程序API不支持
- 界面显示异常
- 功能按钮无响应

解决方法：
- 更新到最新版本微信
- 如无法更新，降级使用基础功能
```

---

## 联系技术支持

### 🆘 何时需要技术支持

**自助解决不了的问题：**
- 按照指南操作仍无法解决
- 涉及数据恢复的复杂问题
- 疑似软件bug或兼容性问题
- 安全相关的紧急问题

**收集问题信息：**
```
请准备以下信息：
1. 问题的详细描述
2. 出现问题的具体步骤
3. 设备型号和系统版本
4. 微信版本号
5. 问题发生的时间
6. 是否有错误截图
```

### 📞 获取支持的方式

**应用内支持：**
```
路径：设置 → 帮助与反馈 → 联系客服
- 优先推荐的支持方式
- 可以直接发送截图和日志
- 响应时间：工作日24小时内
```

**其他支持渠道：**
```
用户群组：
- 微信群：扫描设置页面二维码
- 用户互助和经验分享
- 常见问题快速解答

邮件支持：
- 发送邮件到：support@fertility-helper.com
- 详细描述问题并附上截图
- 48小时内回复
```

### 🔧 问题反馈模板

**问题描述模板：**
```
【问题类型】：(功能异常/数据问题/性能问题/其他)
【设备信息】：(手机型号/系统版本/微信版本)
【问题描述】：(详细描述问题现象)
【复现步骤】：(如何触发这个问题)
【期望结果】：(期望的正常表现)
【实际结果】：(实际出现的问题)
【其他信息】：(补充说明)
```

**示例：**
```
【问题类型】：功能异常
【设备信息】：iPhone 12 / iOS 15.6 / 微信 8.0.32
【问题描述】：体温数据保存后在图表页面不显示
【复现步骤】：
1. 进入记录页面
2. 输入体温36.5
3. 点击保存
4. 切换到图表页面
5. 发现体温点没有显示
【期望结果】：图表上应该显示新录入的体温点
【实际结果】：图表上没有显示，但记录页面能看到数据
【其他信息】：昨天开始出现，之前一直正常
```

---

## 🔍 预防性维护

### 定期检查清单

**每周检查（5分钟）：**
```
✅ 数据记录是否连续完整
✅ 图表显示是否正常
✅ 预测功能是否工作
✅ 小程序运行是否流畅
```

**每月维护（15分钟）：**
```
✅ 创建数据备份
✅ 清理微信缓存
✅ 检查微信版本更新
✅ 评估数据质量
```

**重要时刻备份：**
```
📝 看医生前
📱 换手机前
🔄 系统更新前
📊 重要周期完成后
```

### 良好使用习惯

**数据记录习惯：**
- 每天固定时间记录
- 及时保存，不要拖延
- 特殊情况详细备注
- 保持记录连续性

**设备维护习惯：**
- 定期重启手机
- 保持充足存储空间
- 及时更新系统和应用
- 避免在设备过热时使用

**数据安全习惯：**
- 定期创建备份
- 多渠道保存备份文件
- 验证备份文件完整性
- 了解数据恢复流程

---

*本故障排除指南会根据用户反馈持续更新完善*  
*最后更新时间：2024年1月*

**技术支持承诺：我们致力于为每一位用户提供最优质的技术支持服务！** 💪